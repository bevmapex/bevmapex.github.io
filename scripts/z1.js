(function(){function m(A){var O='    ';isNaN(parseInt(A))?O=A:1===A?O=' ':2===A?O='  ':3===A?O='   ':4===A?O='    ':5===A?O='     ':6===A?O='      ':7===A?O='       ':8===A?O='        ':9===A?O='         ':10===A?O='          ':11===A?O='           ':12===A?O='            ':void 0;var N=['\n'];for(ix=0;100>ix;ix++)N.push(N[ix]+O);return N}function E(){this.step='    ',this.shift=m(this.step)}function T(A,O){return O-(A.replace(/\(/g,'').length-A.replace(/\)/g,'').length)}function S(A,O){return A.replace(/\s{1,}/g,' ').replace(/ AND /ig,'~::~'+O+O+'AND ').replace(/ BETWEEN /ig,'~::~'+O+'BETWEEN ').replace(/ CASE /ig,'~::~'+O+'CASE ').replace(/ ELSE /ig,'~::~'+O+'ELSE ').replace(/ END /ig,'~::~'+O+'END ').replace(/ FROM /ig,'~::~FROM ').replace(/ GROUP\s{1,}BY/ig,'~::~GROUP BY ').replace(/ HAVING /ig,'~::~HAVING ').replace(/ IN /ig,' IN ').replace(/ JOIN /ig,'~::~JOIN ').replace(/ CROSS~::~{1,}JOIN /ig,'~::~CROSS JOIN ').replace(/ INNER~::~{1,}JOIN /ig,'~::~INNER JOIN ').replace(/ LEFT~::~{1,}JOIN /ig,'~::~LEFT JOIN ').replace(/ RIGHT~::~{1,}JOIN /ig,'~::~RIGHT JOIN ').replace(/ ON /ig,'~::~'+O+'ON ').replace(/ OR /ig,'~::~'+O+O+'OR ').replace(/ ORDER\s{1,}BY/ig,'~::~ORDER BY ').replace(/ OVER /ig,'~::~'+O+'OVER ').replace(/\(\s{0,}SELECT /ig,'~::~(SELECT ').replace(/\)\s{0,}SELECT /ig,')~::~SELECT ').replace(/ THEN /ig,' THEN~::~'+O+'').replace(/ UNION /ig,'~::~UNION~::~').replace(/ USING /ig,'~::~USING ').replace(/ WHEN /ig,'~::~'+O+'WHEN ').replace(/ WHERE /ig,'~::~WHERE ').replace(/ WITH /ig,'~::~WITH ').replace(/ ALL /ig,' ALL ').replace(/ AS /ig,' AS ').replace(/ ASC /ig,' ASC ').replace(/ DESC /ig,' DESC ').replace(/ DISTINCT /ig,' DISTINCT ').replace(/ EXISTS /ig,' EXISTS ').replace(/ NOT /ig,' NOT ').replace(/ NULL /ig,' NULL ').replace(/ LIKE /ig,' LIKE ').replace(/\s{0,}SELECT /ig,'SELECT ').replace(/\s{0,}UPDATE /ig,'UPDATE ').replace(/ SET /ig,' SET ').replace(/~::~{1,}/g,'~::~').split('~::~')}E.prototype.xml=function(A,O){var N=A.replace(/>\s{0,}</g,'><').replace(/</g,'~::~<').replace(/\s*xmlns\:/g,'~::~xmlns:').replace(/\s*xmlns\=/g,'~::~xmlns=').split('~::~'),L=N.length,C=!1,M=0,D='',F=0,z=O?m(O):this.shift;for(F=0;F<L;F++)-1<N[F].search(/<!/)?(D+=z[M]+N[F],C=!0,(-1<N[F].search(/-->/)||-1<N[F].search(/\]>/)||-1<N[F].search(/!DOCTYPE/))&&(C=!1)):-1<N[F].search(/-->/)||-1<N[F].search(/\]>/)?(D+=N[F],C=!1):/^<\w/.exec(N[F-1])&&/^<\/\w/.exec(N[F])&&/^<[\w:\-\.\,]+/.exec(N[F-1])==/^<\/[\w:\-\.\,]+/.exec(N[F])[0].replace('/','')?(D+=N[F],C||M--):-1<N[F].search(/<\w/)&&-1==N[F].search(/<\//)&&-1==N[F].search(/\/>/)?D=C?D+=N[F]:D+=z[M++]+N[F]:-1<N[F].search(/<\w/)&&-1<N[F].search(/<\//)?D=C?D+=N[F]:D+=z[M]+N[F]:-1<N[F].search(/<\//)?D=C?D+=N[F]:D+=z[--M]+N[F]:-1<N[F].search(/\/>/)?D=C?D+=N[F]:D+=z[M]+N[F]:D+=-1<N[F].search(/<\?/)?z[M]+N[F]:-1<N[F].search(/xmlns\:/)||-1<N[F].search(/xmlns\=/)?z[M]+N[F]:N[F];return'\n'==D[0]?D.slice(1):D},E.prototype.json=function(A,O){var O=O?O:this.step;return'undefined'==typeof JSON?A:'string'==typeof A?JSON.stringify(JSON.parse(A),null,O):'object'==typeof A?JSON.stringify(A,null,O):A},E.prototype.css=function(A,O){var N=A.replace(/\s{1,}/g,' ').replace(/\{/g,'{~::~').replace(/\}/g,'~::~}~::~').replace(/\;/g,';~::~').replace(/\/\*/g,'~::~/*').replace(/\*\//g,'*/~::~').replace(/~::~\s{0,}~::~/g,'~::~').split('~::~'),L=N.length,C=0,M='',D=0,F=O?m(O):this.shift;for(D=0;D<L;D++)M+=/\{/.exec(N[D])?F[C++]+N[D]:/\}/.exec(N[D])?F[--C]+N[D]:/\*\\/.exec(N[D])?F[C]+N[D]:F[C]+N[D];return M.replace(/^\n{1,}/,'')},E.prototype.sql=function(A,O){var N=A.replace(/\s{1,}/g,' ').replace(/\'/ig,'~::~\'').split('~::~'),L=N.length,C=[],M=0,D=this.step,R=0,W='',H=0,V=O?m(O):this.shift;for(H=0;H<L;H++)C=H%2?C.concat(N[H]):C.concat(S(N[H],D));for(L=C.length,H=0;H<L;H++){R=T(C[H],R),/\s{0,}\s{0,}SELECT\s{0,}/.exec(C[H])&&(C[H]=C[H].replace(/\,/g,',\n'+D+D+'')),/\s{0,}\s{0,}SET\s{0,}/.exec(C[H])&&(C[H]=C[H].replace(/\,/g,',\n'+D+D+'')),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(C[H])?(M++,W+=V[M]+C[H]):/\'/.exec(C[H])?(1>R&&M&&M--,W+=C[H]):(W+=V[M]+C[H],1>R&&M&&M--)}return W=W.replace(/^\n{1,}/,'').replace(/\n{1,}/g,'\n'),W},E.prototype.xmlmin=function(A,O){var N=O?A:A.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,'').replace(/[ \r\n\t]{1,}xmlns/g,' xmlns');return N.replace(/>\s{0,}</g,'><')},E.prototype.jsonmin=function(A){return'undefined'==typeof JSON?A:JSON.stringify(JSON.parse(A),null,0)},E.prototype.cssmin=function(A,O){var N=O?A:A.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,'');return N.replace(/\s{1,}/g,' ').replace(/\{\s{1,}/g,'{').replace(/\}\s{1,}/g,'}').replace(/\;\s{1,}/g,';').replace(/\/\*\s{1,}/g,'/*').replace(/\*\/\s{1,}/g,'*/')},E.prototype.sqlmin=function(A){return A.replace(/\s{1,}/g,' ').replace(/\s{1,}\(/,'(').replace(/\s{1,}\)/,')')},window.vkbeautify=new E})();(function(m,E,T,S){'use strict';function A(Jt,Qt,$t){return setTimeout(M(Jt,$t),Qt)}function O(Jt,Qt,$t){return!!Array.isArray(Jt)&&(N(Jt,$t[Qt],$t),!0)}function N(Jt,Qt,$t){if(Jt)if(Jt.forEach)Jt.forEach(Qt,$t);else if(Jt.length!==S)for(en=0;en<Jt.length;)Qt.call($t,Jt[en],en,Jt),en++;else for(var en in Jt)Jt.hasOwnProperty(en)&&Qt.call($t,Jt[en],en,Jt)}function L(Jt,Qt,$t){return function(){var tn=new Error('get-stack-trace'),nn=tn&&tn.stack?tn.stack.replace(/^[^\(]+?[\n$]/gm,'').replace(/^\s+at\s+/gm,'').replace(/^Object.<anonymous>\s*\(/gm,'{anonymous}()@'):'Unknown Stack Trace',an=m.console&&(m.console.warn||m.console.log);return an&&an.call(m.console,'DEPRECATED METHOD: '+Qt+'\n'+$t+' AT \n',nn),Jt.apply(this,arguments)}}function C(Jt,Qt,$t){var tn,en=Qt.prototype;tn=Jt.prototype=Object.create(en),tn.constructor=Jt,tn._super=en,$t&&Ue(tn,$t)}function M(Jt,Qt){return function(){return Jt.apply(Qt,arguments)}}function D(Jt,Qt){return typeof Jt=='function'?Jt.apply(Qt?Qt[0]||S:S,Qt):Jt}function F(Jt,Qt){return Jt===S?Qt:Jt}function z(Jt,Qt,$t){N(V(Qt),function(en){Jt.addEventListener(en,$t,!1)})}function R(Jt,Qt,$t){N(V(Qt),function(en){Jt.removeEventListener(en,$t,!1)})}function W(Jt,Qt){for(;Jt;){if(Jt==Qt)return!0;Jt=Jt.parentNode}return!1}function H(Jt,Qt){return-1<Jt.indexOf(Qt)}function V(Jt){return Jt.trim().split(/\s+/g)}function U(Jt,Qt,$t){if(Jt.indexOf&&!$t)return Jt.indexOf(Qt);for(var en=0;en<Jt.length;){if($t&&Jt[en][$t]==Qt||!$t&&Jt[en]===Qt)return en;en++}return-1}function G(Jt){return Array.prototype.slice.call(Jt,0)}function X(Jt,Qt,$t){for(var an,en=[],tn=[],nn=0;nn<Jt.length;)an=Qt?Jt[nn][Qt]:Jt[nn],0>U(tn,an)&&en.push(Jt[nn]),tn[nn]=an,nn++;return $t&&(Qt?en=en.sort(function(on,sn){return on[Qt]>sn[Qt]}):en=en.sort()),en}function Y(Jt,Qt){for(var $t,en,tn=Qt[0].toUpperCase()+Qt.slice(1),nn=0;nn<ze.length;){if($t=ze[nn],en=$t?$t+tn:Qt,en in Jt)return en;nn++}return S}function k(){return Ye++}function Z(Jt){var Qt=Jt.ownerDocument||Jt;return Qt.defaultView||Qt.parentWindow||m}function q(Jt,Qt){var $t=this;this.manager=Jt,this.callback=Qt,this.element=Jt.element,this.target=Jt.options.inputTarget,this.domHandler=function(en){D(Jt.options.enable,[Jt])&&$t.handler(en)},this.init()}function K(Jt){var Qt,$t=Jt.options.inputClass;return Qt=$t?$t:qe?pe:Ke?me:Ze?he:de,new Qt(Jt,J)}function J(Jt,Qt,$t){var en=$t.pointers.length,tn=$t.changedPointers.length,nn=Qt&nt&&0==en-tn;$t.isFirst=!!nn,$t.isFinal=!!(Qt&(rt|ot)&&0==en-tn),nn&&(Jt.session={}),$t.eventType=Qt,Q(Jt,$t),Jt.emit('hammer.input',$t),Jt.recognize($t),Jt.session.prevInput=$t}function Q(Jt,Qt){var $t=Jt.session,en=Qt.pointers,tn=en.length;$t.firstInput||($t.firstInput=te(Qt)),1<tn&&!$t.firstMultiple?$t.firstMultiple=te(Qt):1===tn&&($t.firstMultiple=!1);var nn=$t.firstInput,an=$t.firstMultiple,rn=an?an.center:nn.center,on=Qt.center=ne(en);Qt.timeStamp=Ve(),Qt.deltaTime=Qt.timeStamp-nn.timeStamp,Qt.angle=oe(rn,on),Qt.distance=re(rn,on),$($t,Qt),Qt.offsetDirection=ae(Qt.deltaX,Qt.deltaY);var sn=ie(Qt.deltaTime,Qt.deltaX,Qt.deltaY);Qt.overallVelocityX=sn.x,Qt.overallVelocityY=sn.y,Qt.overallVelocity=je(sn.x)>je(sn.y)?sn.x:sn.y,Qt.scale=an?le(an.pointers,en):1,Qt.rotation=an?se(an.pointers,en):0,Qt.maxPointers=$t.prevInput?Qt.pointers.length>$t.prevInput.maxPointers?Qt.pointers.length:$t.prevInput.maxPointers:Qt.pointers.length,ee($t,Qt);var ln=Jt.element;W(Qt.srcEvent.target,ln)&&(ln=Qt.srcEvent.target),Qt.target=ln}function $(Jt,Qt){var $t=Qt.center,en=Jt.offsetDelta||{},tn=Jt.prevDelta||{},nn=Jt.prevInput||{};(Qt.eventType===nt||nn.eventType===rt)&&(tn=Jt.prevDelta={x:nn.deltaX||0,y:nn.deltaY||0},en=Jt.offsetDelta={x:$t.x,y:$t.y}),Qt.deltaX=tn.x+($t.x-en.x),Qt.deltaY=tn.y+($t.y-en.y)}function ee(Jt,Qt){var tn,nn,an,rn,$t=Jt.lastInterval||Qt,en=Qt.timeStamp-$t.timeStamp;if(Qt.eventType!=ot&&(en>25||$t.velocity===S)){var on=Qt.deltaX-$t.deltaX,sn=Qt.deltaY-$t.deltaY,ln=ie(en,on,sn);nn=ln.x,an=ln.y,tn=je(ln.x)>je(ln.y)?ln.x:ln.y,rn=ae(on,sn),Jt.lastInterval=Qt}else tn=$t.velocity,nn=$t.velocityX,an=$t.velocityY,rn=$t.direction;Qt.velocity=tn,Qt.velocityX=nn,Qt.velocityY=an,Qt.direction=rn}function te(Jt){for(var Qt=[],$t=0;$t<Jt.pointers.length;)Qt[$t]={clientX:He(Jt.pointers[$t].clientX),clientY:He(Jt.pointers[$t].clientY)},$t++;return{timeStamp:Ve(),pointers:Qt,center:ne(Qt),deltaX:Jt.deltaX,deltaY:Jt.deltaY}}function ne(Jt){var Qt=Jt.length;if(1===Qt)return{x:He(Jt[0].clientX),y:He(Jt[0].clientY)};for(var $t=0,en=0,tn=0;tn<Qt;)$t+=Jt[tn].clientX,en+=Jt[tn].clientY,tn++;return{x:He($t/Qt),y:He(en/Qt)}}function ie(Jt,Qt,$t){return{x:Qt/Jt||0,y:$t/Jt||0}}function ae(Jt,Qt){return Jt===Qt?st:je(Jt)>=je(Qt)?0>Jt?lt:pt:0>Qt?ut:ct}function re(Jt,Qt,$t){$t||($t=gt);var en=Qt[$t[0]]-Jt[$t[0]],tn=Qt[$t[1]]-Jt[$t[1]];return Math.sqrt(en*en+tn*tn)}function oe(Jt,Qt,$t){$t||($t=gt);var en=Qt[$t[0]]-Jt[$t[0]],tn=Qt[$t[1]]-Jt[$t[1]];return 180*Math.atan2(tn,en)/Math.PI}function se(Jt,Qt){return oe(Qt[1],Qt[0],yt)+oe(Jt[1],Jt[0],yt)}function le(Jt,Qt){return re(Qt[0],Qt[1],yt)/re(Jt[0],Jt[1],yt)}function de(){this.evEl='mousedown',this.evWin='mousemove mouseup',this.pressed=!1,q.apply(this,arguments)}function pe(){this.evEl=Tt,this.evWin=St,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function ue(){this.evTarget='touchstart',this.evWin='touchstart touchmove touchend touchcancel',this.started=!1,q.apply(this,arguments)}function ce(Jt,Qt){var $t=G(Jt.touches),en=G(Jt.changedTouches);return Qt&(rt|ot)&&($t=X($t.concat(en),'identifier',!0)),[$t,en]}function me(){this.evTarget='touchstart touchmove touchend touchcancel',this.targetIds={},q.apply(this,arguments)}function fe(Jt,Qt){var $t=G(Jt.touches),en=this.targetIds;if(Qt&(nt|at)&&1===$t.length)return en[$t[0].identifier]=!0,[$t,$t];var tn,nn,an=G(Jt.changedTouches),rn=[],on=this.target;if(nn=$t.filter(function(sn){return W(sn.target,on)}),Qt===nt)for(tn=0;tn<nn.length;)en[nn[tn].identifier]=!0,tn++;for(tn=0;tn<an.length;)en[an[tn].identifier]&&rn.push(an[tn]),Qt&(rt|ot)&&delete en[an[tn].identifier],tn++;return rn.length?[X(nn.concat(rn),'identifier',!0),rn]:void 0}function he(){q.apply(this,arguments);var Jt=M(this.handler,this);this.touch=new me(this.manager,Jt),this.mouse=new de(this.manager,Jt),this.primaryTouch=null,this.lastTouches=[]}function ge(Jt,Qt){Jt&nt?(this.primaryTouch=Qt.changedPointers[0].identifier,ye.call(this,Qt)):Jt&(rt|ot)&&ye.call(this,Qt)}function ye(Jt){var Qt=Jt.changedPointers[0];if(Qt.identifier===this.primaryTouch){var $t={x:Qt.clientX,y:Qt.clientY};this.lastTouches.push($t);var en=this.lastTouches,tn=function(){var nn=en.indexOf($t);-1<nn&&en.splice(nn,1)};setTimeout(tn,2500)}}function xe(Jt){for(var Qt=Jt.srcEvent.clientX,$t=Jt.srcEvent.clientY,en=0;en<this.lastTouches.length;en++){var tn=this.lastTouches[en],nn=Math.abs(Qt-tn.x),an=Math.abs($t-tn.y);if(nn<=Ct&&an<=Ct)return!0}return!1}function ve(Jt,Qt){this.manager=Jt,this.set(Qt)}function be(Jt){if(H(Jt,zt))return zt;var Qt=H(Jt,Rt),$t=H(Jt,Wt);return Qt&&$t?zt:Qt||$t?Qt?Rt:Wt:H(Jt,Ft)?Ft:Bt}function _e(Jt){this.options=Ue({},this.defaults,Jt||{}),this.id=k(),this.manager=null,this.options.enable=F(this.options.enable,!0),this.state=jt,this.simultaneous={},this.requireFail=[]}function Te(Jt){if(Jt&Yt)return'cancel';return Jt&Gt?'end':Jt&Ut?'move':Jt&Vt?'start':''}function Se(Jt){if(Jt==ct)return'down';return Jt==ut?'up':Jt==lt?'left':Jt==pt?'right':''}function Ae(Jt,Qt){var $t=Qt.manager;return $t?$t.get(Jt):Jt}function Pe(){_e.apply(this,arguments)}function Ie(){Pe.apply(this,arguments),this.pX=null,this.pY=null}function Oe(){Pe.apply(this,arguments)}function Ne(){_e.apply(this,arguments),this._timer=null,this._input=null}function Le(){Pe.apply(this,arguments)}function Ce(){Pe.apply(this,arguments)}function Me(){_e.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function we(Jt,Qt){return Qt=Qt||{},Qt.recognizers=F(Qt.recognizers,we.defaults.preset),new De(Jt,Qt)}function De(Jt,Qt){this.options=Ue({},we.defaults,Qt||{}),this.options.inputTarget=this.options.inputTarget||Jt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Jt,this.input=K(this),this.touchAction=new ve(this,this.options.touchAction),Be(this,!0),N(this.options.recognizers,function($t){var en=this.add(new $t[0]($t[1]));$t[2]&&en.recognizeWith($t[2]),$t[3]&&en.requireFailure($t[3])},this)}function Be(Jt,Qt){var $t=Jt.element;if($t.style){var en;N(Jt.options.cssProps,function(tn,nn){en=Y($t.style,nn),Qt?(Jt.oldCssProps[en]=$t.style[en],$t.style[en]=tn):$t.style[en]=Jt.oldCssProps[en]||''}),Qt||(Jt.oldCssProps={})}}function Fe(Jt,Qt){var $t=E.createEvent('Event');$t.initEvent(Jt,!0,!0),$t.gesture=Qt,Qt.target.dispatchEvent($t)}var ze=['','webkit','Moz','MS','ms','o'],Re=E.createElement('div'),He=Math.round,je=Math.abs,Ve=Date.now,Ue;Ue='function'==typeof Object.assign?Object.assign:function(Qt){if(Qt===S||null===Qt)throw new TypeError('Cannot convert undefined or null to object');for(var tn,$t=Object(Qt),en=1;en<arguments.length;en++)if(tn=arguments[en],tn!==S&&null!==tn)for(var nn in tn)tn.hasOwnProperty(nn)&&($t[nn]=tn[nn]);return $t};var Ge=L(function(Qt,$t,en){for(var tn=Object.keys($t),nn=0;nn<tn.length;)(!en||en&&Qt[tn[nn]]===S)&&(Qt[tn[nn]]=$t[tn[nn]]),nn++;return Qt},'extend','Use `assign`.'),Xe=L(function(Qt,$t){return Ge(Qt,$t,!0)},'merge','Use `assign`.'),Ye=1,ke=/mobile|tablet|ip(ad|hone|od)|android/i,Ze='ontouchstart'in m,qe=Y(m,'PointerEvent')!==S,Ke=Ze&&ke.test(navigator.userAgent),Je='touch',$e='mouse',nt=1,at=2,rt=4,ot=8,st=1,lt=2,pt=4,ut=8,ct=16,mt=lt|pt,ft=ut|ct,ht=mt|ft,gt=['x','y'],yt=['clientX','clientY'];q.prototype={handler:function(){},init:function(){this.evEl&&z(this.element,this.evEl,this.domHandler),this.evTarget&&z(this.target,this.evTarget,this.domHandler),this.evWin&&z(Z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(Z(this.element),this.evWin,this.domHandler)}};var xt={mousedown:nt,mousemove:at,mouseup:rt};C(de,q,{handler:function(Qt){var $t=xt[Qt.type];$t&nt&&0===Qt.button&&(this.pressed=!0),$t&at&&1!==Qt.which&&($t=rt);this.pressed&&($t&rt&&(this.pressed=!1),this.callback(this.manager,$t,{pointers:[Qt],changedPointers:[Qt],pointerType:$e,srcEvent:Qt}))}});var Et={pointerdown:nt,pointermove:at,pointerup:rt,pointercancel:ot,pointerout:ot},_t={2:Je,3:'pen',4:$e,5:'kinect'},Tt='pointerdown',St='pointermove pointerup pointercancel';m.MSPointerEvent&&!m.PointerEvent&&(Tt='MSPointerDown',St='MSPointerMove MSPointerUp MSPointerCancel'),C(pe,q,{handler:function(Qt){var $t=this.store,en=!1,tn=Qt.type.toLowerCase().replace('ms',''),nn=Et[tn],an=_t[Qt.pointerType]||Qt.pointerType,on=U($t,Qt.pointerId,'pointerId');nn&nt&&(0===Qt.button||an==Je)?0>on&&($t.push(Qt),on=$t.length-1):nn&(rt|ot)&&(en=!0);0>on||($t[on]=Qt,this.callback(this.manager,nn,{pointers:$t,changedPointers:[Qt],pointerType:an,srcEvent:Qt}),en&&$t.splice(on,1))}});var At={touchstart:nt,touchmove:at,touchend:rt,touchcancel:ot};C(ue,q,{handler:function(Qt){var $t=At[Qt.type];if($t===nt&&(this.started=!0),!!this.started){var en=ce.call(this,Qt,$t);$t&(rt|ot)&&0==en[0].length-en[1].length&&(this.started=!1),this.callback(this.manager,$t,{pointers:en[0],changedPointers:en[1],pointerType:Je,srcEvent:Qt})}}});var Ot={touchstart:nt,touchmove:at,touchend:rt,touchcancel:ot};C(me,q,{handler:function(Qt){var $t=Ot[Qt.type],en=fe.call(this,Qt,$t);en&&this.callback(this.manager,$t,{pointers:en[0],changedPointers:en[1],pointerType:Je,srcEvent:Qt})}});var Ct=25;C(he,q,{handler:function(Qt,$t,en){var tn=en.pointerType==Je,nn=en.pointerType==$e;if(!(nn&&en.sourceCapabilities&&en.sourceCapabilities.firesTouchEvents)){if(tn)ge.call(this,$t,en);else if(nn&&xe.call(this,en))return;this.callback(Qt,$t,en)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Mt=Y(Re.style,'touchAction'),wt=Mt!==S,Dt='compute',Bt='auto',Ft='manipulation',zt='none',Rt='pan-x',Wt='pan-y',Ht=function(){if(!wt)return!1;var Jt={},Qt=m.CSS&&m.CSS.supports;return['auto','manipulation','pan-y','pan-x','pan-x pan-y','none'].forEach(function($t){Jt[$t]=!Qt||m.CSS.supports('touch-action',$t)}),Jt}();ve.prototype={set:function(Jt){Jt==Dt&&(Jt=this.compute()),wt&&this.manager.element.style&&Ht[Jt]&&(this.manager.element.style[Mt]=Jt),this.actions=Jt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Jt=[];return N(this.manager.recognizers,function(Qt){D(Qt.options.enable,[Qt])&&(Jt=Jt.concat(Qt.getTouchAction()))}),be(Jt.join(' '))},preventDefaults:function(Jt){var Qt=Jt.srcEvent,$t=Jt.offsetDirection;if(this.manager.session.prevented)return void Qt.preventDefault();var en=this.actions,tn=H(en,zt)&&!Ht[zt],nn=H(en,Wt)&&!Ht[Wt],an=H(en,Rt)&&!Ht[Rt];if(tn){var rn=1===Jt.pointers.length,on=2>Jt.distance,sn=250>Jt.deltaTime;if(rn&&on&&sn)return}return an&&nn?void 0:tn||nn&&$t&mt||an&&$t&ft?this.preventSrc(Qt):void 0},preventSrc:function(Jt){this.manager.session.prevented=!0,Jt.preventDefault()}};var jt=1,Vt=2,Ut=4,Gt=8,Xt=Gt,Yt=16,kt=32;_e.prototype={defaults:{},set:function(Jt){return Ue(this.options,Jt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Jt){if(O(Jt,'recognizeWith',this))return this;var Qt=this.simultaneous;return Jt=Ae(Jt,this),Qt[Jt.id]||(Qt[Jt.id]=Jt,Jt.recognizeWith(this)),this},dropRecognizeWith:function(Jt){return O(Jt,'dropRecognizeWith',this)?this:(Jt=Ae(Jt,this),delete this.simultaneous[Jt.id],this)},requireFailure:function(Jt){if(O(Jt,'requireFailure',this))return this;var Qt=this.requireFail;return Jt=Ae(Jt,this),-1===U(Qt,Jt)&&(Qt.push(Jt),Jt.requireFailure(this)),this},dropRequireFailure:function(Jt){if(O(Jt,'dropRequireFailure',this))return this;Jt=Ae(Jt,this);var Qt=U(this.requireFail,Jt);return-1<Qt&&this.requireFail.splice(Qt,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(Jt){return!!this.simultaneous[Jt.id]},emit:function(Jt){function Qt(tn){$t.manager.emit(tn,Jt)}var $t=this,en=this.state;en<Gt&&Qt($t.options.event+Te(en)),Qt($t.options.event),Jt.additionalEvent&&Qt(Jt.additionalEvent),en>=Gt&&Qt($t.options.event+Te(en))},tryEmit:function(Jt){return this.canEmit()?this.emit(Jt):void(this.state=kt)},canEmit:function(){for(var Jt=0;Jt<this.requireFail.length;){if(!(this.requireFail[Jt].state&(kt|jt)))return!1;Jt++}return!0},recognize:function(Jt){var Qt=Ue({},Jt);return D(this.options.enable,[this,Qt])?void(this.state&(Xt|Yt|kt)&&(this.state=jt),this.state=this.process(Qt),this.state&(Vt|Ut|Gt|Yt)&&this.tryEmit(Qt)):(this.reset(),void(this.state=kt))},process:function(){},getTouchAction:function(){},reset:function(){}},C(Pe,_e,{defaults:{pointers:1},attrTest:function(Jt){var Qt=this.options.pointers;return 0===Qt||Jt.pointers.length===Qt},process:function(Jt){var Qt=this.state,$t=Jt.eventType,en=Qt&(Vt|Ut),tn=this.attrTest(Jt);if(en&&($t&ot||!tn))return Qt|Yt;return en||tn?$t&rt?Qt|Gt:Qt&Vt?Qt|Ut:Vt:kt}}),C(Ie,Pe,{defaults:{event:'pan',threshold:10,pointers:1,direction:ht},getTouchAction:function(){var Jt=this.options.direction,Qt=[];return Jt&mt&&Qt.push(Wt),Jt&ft&&Qt.push(Rt),Qt},directionTest:function(Jt){var Qt=this.options,$t=!0,en=Jt.distance,tn=Jt.direction,nn=Jt.deltaX,an=Jt.deltaY;return tn&Qt.direction||(Qt.direction&mt?(tn=0===nn?st:0>nn?lt:pt,$t=nn!=this.pX,en=Math.abs(Jt.deltaX)):(tn=0===an?st:0>an?ut:ct,$t=an!=this.pY,en=Math.abs(Jt.deltaY))),Jt.direction=tn,$t&&en>Qt.threshold&&tn&Qt.direction},attrTest:function(Jt){return Pe.prototype.attrTest.call(this,Jt)&&(this.state&Vt||!(this.state&Vt)&&this.directionTest(Jt))},emit:function(Jt){this.pX=Jt.deltaX,this.pY=Jt.deltaY;var Qt=Se(Jt.direction);Qt&&(Jt.additionalEvent=this.options.event+Qt),this._super.emit.call(this,Jt)}}),C(Oe,Pe,{defaults:{event:'pinch',threshold:0,pointers:2},getTouchAction:function(){return[zt]},attrTest:function(Jt){return this._super.attrTest.call(this,Jt)&&(Math.abs(Jt.scale-1)>this.options.threshold||this.state&Vt)},emit:function(Jt){if(1!==Jt.scale){var Qt=1>Jt.scale?'in':'out';Jt.additionalEvent=this.options.event+Qt}this._super.emit.call(this,Jt)}}),C(Ne,_e,{defaults:{event:'press',pointers:1,time:251,threshold:9},getTouchAction:function(){return[Bt]},process:function(Jt){var Qt=this.options,$t=Jt.pointers.length===Qt.pointers,en=Jt.distance<Qt.threshold,tn=Jt.deltaTime>Qt.time;if(this._input=Jt,!en||!$t||Jt.eventType&(rt|ot)&&!tn)this.reset();else if(Jt.eventType&nt)this.reset(),this._timer=A(function(){this.state=Xt,this.tryEmit()},Qt.time,this);else if(Jt.eventType&rt)return Xt;return kt},reset:function(){clearTimeout(this._timer)},emit:function(Jt){this.state!==Xt||(Jt&&Jt.eventType&rt?this.manager.emit(this.options.event+'up',Jt):(this._input.timeStamp=Ve(),this.manager.emit(this.options.event,this._input)))}}),C(Le,Pe,{defaults:{event:'rotate',threshold:0,pointers:2},getTouchAction:function(){return[zt]},attrTest:function(Jt){return this._super.attrTest.call(this,Jt)&&(Math.abs(Jt.rotation)>this.options.threshold||this.state&Vt)}}),C(Ce,Pe,{defaults:{event:'swipe',threshold:10,velocity:0.3,direction:mt|ft,pointers:1},getTouchAction:function(){return Ie.prototype.getTouchAction.call(this)},attrTest:function(Jt){var $t,Qt=this.options.direction;return Qt&(mt|ft)?$t=Jt.overallVelocity:Qt&mt?$t=Jt.overallVelocityX:Qt&ft&&($t=Jt.overallVelocityY),this._super.attrTest.call(this,Jt)&&Qt&Jt.offsetDirection&&Jt.distance>this.options.threshold&&Jt.maxPointers==this.options.pointers&&je($t)>this.options.velocity&&Jt.eventType&rt},emit:function(Jt){var Qt=Se(Jt.offsetDirection);Qt&&this.manager.emit(this.options.event+Qt,Jt),this.manager.emit(this.options.event,Jt)}}),C(Me,_e,{defaults:{event:'tap',pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ft]},process:function(Jt){var Qt=this.options,$t=Jt.pointers.length===Qt.pointers,en=Jt.distance<Qt.threshold,tn=Jt.deltaTime<Qt.time;if(this.reset(),Jt.eventType&nt&&0===this.count)return this.failTimeout();if(en&&tn&&$t){if(Jt.eventType!=rt)return this.failTimeout();var nn=!this.pTime||Jt.timeStamp-this.pTime<Qt.interval,an=!this.pCenter||re(this.pCenter,Jt.center)<Qt.posThreshold;this.pTime=Jt.timeStamp,this.pCenter=Jt.center,an&&nn?this.count+=1:this.count=1,this._input=Jt;var rn=this.count%Qt.taps;if(0==rn)return this.hasRequireFailures()?(this._timer=A(function(){this.state=Xt,this.tryEmit()},Qt.interval,this),Vt):Xt}return kt},failTimeout:function(){return this._timer=A(function(){this.state=kt},this.options.interval,this),kt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Xt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),we.VERSION='2.0.8',we.defaults={domEvents:!1,touchAction:Dt,enable:!0,inputTarget:null,inputClass:null,preset:[[Le,{enable:!1}],[Oe,{enable:!1},['rotate']],[Ce,{direction:mt}],[Ie,{direction:mt},['swipe']],[Me],[Me,{event:'doubletap',taps:2},['tap']],[Ne]],cssProps:{userSelect:'none',touchSelect:'none',touchCallout:'none',contentZooming:'none',userDrag:'none',tapHighlightColor:'rgba(0,0,0,0)'}};var qt=2;De.prototype={set:function(Jt){return Ue(this.options,Jt),Jt.touchAction&&this.touchAction.update(),Jt.inputTarget&&(this.input.destroy(),this.input.target=Jt.inputTarget,this.input.init()),this},stop:function(Jt){this.session.stopped=Jt?qt:1},recognize:function(Jt){var Qt=this.session;if(!Qt.stopped){this.touchAction.preventDefaults(Jt);var $t,en=this.recognizers,tn=Qt.curRecognizer;(!tn||tn&&tn.state&Xt)&&(tn=Qt.curRecognizer=null);for(var nn=0;nn<en.length;)$t=en[nn],Qt.stopped!==qt&&(!tn||$t==tn||$t.canRecognizeWith(tn))?$t.recognize(Jt):$t.reset(),!tn&&$t.state&(Vt|Ut|Gt)&&(tn=Qt.curRecognizer=$t),nn++}},get:function(Jt){if(Jt instanceof _e)return Jt;for(var Qt=this.recognizers,$t=0;$t<Qt.length;$t++)if(Qt[$t].options.event==Jt)return Qt[$t];return null},add:function(Jt){if(O(Jt,'add',this))return this;var Qt=this.get(Jt.options.event);return Qt&&this.remove(Qt),this.recognizers.push(Jt),Jt.manager=this,this.touchAction.update(),Jt},remove:function(Jt){if(O(Jt,'remove',this))return this;if(Jt=this.get(Jt),Jt){var Qt=this.recognizers,$t=U(Qt,Jt);-1!==$t&&(Qt.splice($t,1),this.touchAction.update())}return this},on:function(Jt,Qt){if(Jt!==S&&Qt!==S){var $t=this.handlers;return N(V(Jt),function(en){$t[en]=$t[en]||[],$t[en].push(Qt)}),this}},off:function(Jt,Qt){if(Jt!==S){var $t=this.handlers;return N(V(Jt),function(en){Qt?$t[en]&&$t[en].splice(U($t[en],Qt),1):delete $t[en]}),this}},emit:function(Jt,Qt){this.options.domEvents&&Fe(Jt,Qt);var $t=this.handlers[Jt]&&this.handlers[Jt].slice();if($t&&$t.length){Qt.type=Jt,Qt.preventDefault=function(){Qt.srcEvent.preventDefault()};for(var en=0;en<$t.length;)$t[en](Qt),en++}},destroy:function(){this.element&&Be(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Ue(we,{INPUT_START:nt,INPUT_MOVE:at,INPUT_END:rt,INPUT_CANCEL:ot,STATE_POSSIBLE:jt,STATE_BEGAN:Vt,STATE_CHANGED:Ut,STATE_ENDED:Gt,STATE_RECOGNIZED:Xt,STATE_CANCELLED:Yt,STATE_FAILED:kt,DIRECTION_NONE:st,DIRECTION_LEFT:lt,DIRECTION_RIGHT:pt,DIRECTION_UP:ut,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:mt,DIRECTION_VERTICAL:ft,DIRECTION_ALL:ht,Manager:De,Input:q,TouchAction:ve,TouchInput:me,MouseInput:de,PointerEventInput:pe,TouchMouseInput:he,SingleTouchInput:ue,Recognizer:_e,AttrRecognizer:Pe,Tap:Me,Pan:Ie,Swipe:Ce,Pinch:Oe,Rotate:Le,Press:Ne,on:z,off:R,each:N,merge:Xe,extend:Ge,assign:Ue,inherit:C,bindFn:M,prefixed:Y});var Kt='undefined'==typeof m?'undefined'==typeof self?{}:self:m;Kt.Hammer=we,'function'==typeof define&&define.amd?define(function(){return we}):'undefined'!=typeof module&&module.exports?module.exports=we:m[T]=we})(window,document,'Hammer');function ConvexHullGrahamScan(){this.anchorPoint=void 0,this.reverse=!1,this.points=[]}ConvexHullGrahamScan.prototype={constructor:ConvexHullGrahamScan,Point:function(m,E){this.x=m,this.y=E},_findPolarAngle:function(m,E){var T,S;if(!m||!E)return 0;if(T=E.x-m.x,S=E.y-m.y,0==T&&0==S)return 0;var O=Math.atan2(S,T)*57.295779513082;return this.reverse?0>=O&&(O+=360):0<=O&&(O+=360),O},addPoint:function(m,E){var T=void 0===this.anchorPoint||this.anchorPoint.y>E||this.anchorPoint.y===E&&this.anchorPoint.x>m;T?(void 0!==this.anchorPoint&&this.points.push(new this.Point(this.anchorPoint.x,this.anchorPoint.y)),this.anchorPoint=new this.Point(m,E)):this.points.push(new this.Point(m,E))},_sortPoints:function(){var m=this;return this.points.sort(function(E,T){var S=m._findPolarAngle(m.anchorPoint,E),A=m._findPolarAngle(m.anchorPoint,T);return A>S?-1:S>A?1:0})},_checkPoints:function(m,E,T){var S,A=this._findPolarAngle(m,E),O=this._findPolarAngle(m,T);return A>O?(S=A-O,!(180<S)):!(O>A)||(S=O-A,180<S)},getHull:function(){var m,E,T=[];if(this.reverse=this.points.every(function(L){return 0>L.x&&0>L.y}),m=this._sortPoints(),E=m.length,3>E)return m.unshift(this.anchorPoint),m;for(T.push(m.shift(),m.shift());;){var S,A,O;if(T.push(m.shift()),S=T[T.length-3],A=T[T.length-2],O=T[T.length-1],this._checkPoints(S,A,O)&&T.splice(T.length-2,1),0==m.length){if(E==T.length){var N=this.anchorPoint;return T=T.filter(function(L){return!!L}),T.some(function(L){return L.x==N.x&&L.y==N.y})||T.unshift(this.anchorPoint),T}m=T,E=m.length,T=[],T.push(m.shift(),m.shift())}}}},'function'==typeof define&&define.amd&&define(function(){return ConvexHullGrahamScan}),'undefined'!=typeof module&&(module.exports=ConvexHullGrahamScan);THREE.OrbitControls=function(m,E){function T(){return 2*Math.PI/60/60*ie.autoRotateSpeed}function S(){return Math.pow(0.95,ie.zoomSpeed)}function A(Ie){ue.theta-=Ie}function O(Ie){ue.phi-=Ie}function N(Ie){ie.object.isPerspectiveCamera?ce/=Ie:ie.object.isOrthographicCamera?(ie.object.zoom=Math.max(ie.minZoom,Math.min(ie.maxZoom,ie.object.zoom*Ie)),ie.object.updateProjectionMatrix(),fe=!0):(console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'),ie.enableZoom=!1)}function L(Ie){ie.object.isPerspectiveCamera?ce*=Ie:ie.object.isOrthographicCamera?(ie.object.zoom=Math.max(ie.minZoom,Math.min(ie.maxZoom,ie.object.zoom/Ie)),ie.object.updateProjectionMatrix(),fe=!0):(console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'),ie.enableZoom=!1)}function C(Ie){he.set(Ie.clientX,Ie.clientY)}function M(Ie){Ee.set(Ie.clientX,Ie.clientY)}function D(Ie){xe.set(Ie.clientX,Ie.clientY)}function F(Ie){ge.set(Ie.clientX,Ie.clientY),ye.subVectors(ge,he).multiplyScalar(ie.rotateSpeed);var Oe=ie.domElement===document?ie.domElement.body:ie.domElement;A(2*Math.PI*ye.x/Oe.clientWidth),O(2*Math.PI*ye.y/Oe.clientHeight),he.copy(ge),ie.update()}function z(Ie){_e.set(Ie.clientX,Ie.clientY),Te.subVectors(_e,Ee),2<Te.y?N(S()):-2>Te.y&&L(S()),Ee.copy(_e),ie.update()}function R(Ie){ve.set(Ie.clientX,Ie.clientY),be.subVectors(ve,xe).multiplyScalar(ie.panSpeed),Pe(be.x,be.y),xe.copy(ve),ie.update()}function W(){}function H(Ie){0>Ie.deltaY?L(S()):0<Ie.deltaY&&N(S()),ie.update()}function V(Ie){switch(Ie.keyCode){case ie.keys.UP:Pe(0,ie.keyPanSpeed),ie.update();break;case ie.keys.BOTTOM:Pe(0,-ie.keyPanSpeed),ie.update();break;case ie.keys.LEFT:Pe(ie.keyPanSpeed,0),ie.update();break;case ie.keys.RIGHT:Pe(-ie.keyPanSpeed,0),ie.update();}}function U(Ie){he.set(Ie.touches[0].pageX,Ie.touches[0].pageY)}function G(Ie){ge.set(Ie.touches[0].pageX,Ie.touches[0].pageY),ye.subVectors(ge,he).multiplyScalar(ie.rotateSpeed);var Oe=ie.domElement===document?ie.domElement.body:ie.domElement;A(2*Math.PI*ye.x/Oe.clientWidth),O(2*Math.PI*ye.y/Oe.clientHeight),he.copy(ge),ie.update()}function X(Ie){if(3>Ie.touches.length&&ie.enableZoom){var Oe=Ie.touches[0].pageX-Ie.touches[1].pageX,Ne=Ie.touches[0].pageY-Ie.touches[1].pageY,Le=Math.sqrt(Oe*Oe+Ne*Ne);Ee.set(0,Le)}if(ie.enablePan){var Ce=0.5*(Ie.touches[0].pageX+Ie.touches[1].pageX),Me=0.5*(Ie.touches[0].pageY+Ie.touches[1].pageY);xe.set(Ce,Me)}}function Y(Ie){if(ie.enablePan){var Oe=0.5*(Ie.touches[0].pageX+Ie.touches[1].pageX),Ne=0.5*(Ie.touches[0].pageY+Ie.touches[1].pageY);ve.set(Oe,Ne),be.subVectors(ve,xe).multiplyScalar(ie.panSpeed);Math.sqrt(be.x*be.x+be.y*be.y);Pe(be.x,be.y),xe.copy(ve)}if(3>Ie.touches.length&&ie.enableZoom){var Ce=Ie.touches[0].pageX-Ie.touches[1].pageX,Me=Ie.touches[0].pageY-Ie.touches[1].pageY,we=Math.sqrt(Ce*Ce+Me*Me);_e.set(0,we),Te.set(0,Math.pow(_e.y/Ee.y,ie.zoomSpeed)),N(Te.y),Ee.copy(_e)}ie.update()}function k(){}function Z(Ie){if(!1!==ie.enabled){switch(Ie.preventDefault(),Ie.button){case ie.mouseButtons.ORBIT:if(!1===ie.enableRotate)return;C(Ie),le=se.ROTATE;break;case ie.mouseButtons.ZOOM:if(!1===ie.enableZoom)return;M(Ie),le=se.DOLLY;break;case ie.mouseButtons.PAN:if(!1===ie.enablePan)return;D(Ie),le=se.PAN;}le!==se.NONE&&(document.addEventListener('mousemove',q,!1),document.addEventListener('mouseup',K,!1),ie.dispatchEvent(re))}}function q(Ie){if(!1!==ie.enabled)switch(Ie.preventDefault(),le){case se.ROTATE:if(!1===ie.enableRotate)return;F(Ie);break;case se.DOLLY:if(!1===ie.enableZoom)return;z(Ie);break;case se.PAN:if(!1===ie.enablePan)return;R(Ie);}}function K(Ie){!1===ie.enabled||(W(Ie),document.removeEventListener('mousemove',q,!1),document.removeEventListener('mouseup',K,!1),ie.dispatchEvent(oe),le=se.NONE)}function J(Ie){!1===ie.enabled||!1===ie.enableZoom||le!==se.NONE&&le!==se.ROTATE||(Ie.preventDefault(),Ie.stopPropagation(),ie.dispatchEvent(re),H(Ie),ie.dispatchEvent(oe))}function Q(Ie){!1===ie.enabled||!1===ie.enableKeys||!1===ie.enablePan||V(Ie)}function $(Ie){if(!1!==ie.enabled){switch(Ie.preventDefault(),Ie.touches.length){case 1:if(!1===ie.enableRotate)return;U(Ie),le=se.TOUCH_ROTATE;break;case 3:if(!1===ie.enableZoom&&!1===ie.enablePan)return;X(Ie),le=se.TOUCH_DOLLY_PAN;break;case 2:if(!1===ie.enableZoom&&!1===ie.enablePan)return;X(Ie),le=se.TOUCH_DOLLY_PAN;break;default:le=se.NONE;}le!==se.NONE&&ie.dispatchEvent(re)}}function ee(Ie){if(!1!==ie.enabled)switch(Ie.preventDefault(),Ie.stopPropagation(),Ie.touches.length){case 1:if(!1===ie.enableRotate)return;if(le!==se.TOUCH_ROTATE)return;G(Ie);break;case 3:if(!1===ie.enableZoom&&!1===ie.enablePan)return;if(le!==se.TOUCH_DOLLY_PAN)return;Y(Ie);break;case 2:if(!1===ie.enableZoom&&!1===ie.enablePan)return;if(le!==se.TOUCH_DOLLY_PAN)return;Y(Ie);break;default:le=se.NONE;}}function te(Ie){!1===ie.enabled||(k(Ie),ie.dispatchEvent(oe),le=se.NONE)}function ne(Ie){!1===ie.enabled||Ie.preventDefault()}this.object=m,this.domElement=E===void 0?document:E,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=Infinity,this.minZoom=0,this.maxZoom=Infinity,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-Infinity,this.maxAzimuthAngle=Infinity,this.enableDamping=!1,this.dampingFactor=0.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return pe.phi},this.getAzimuthalAngle=function(){return pe.theta},this.saveState=function(){ie.target0.copy(ie.target),ie.position0.copy(ie.object.position),ie.zoom0=ie.object.zoom},this.reset=function(){ie.target.copy(ie.target0),ie.object.position.copy(ie.position0),ie.object.zoom=ie.zoom0,ie.object.updateProjectionMatrix(),ie.dispatchEvent(ae),ie.update(),le=se.NONE},this.update=function(){var Ie=new THREE.Vector3,Oe=new THREE.Quaternion().setFromUnitVectors(m.up,new THREE.Vector3(0,1,0)),Ne=Oe.clone().inverse(),Le=new THREE.Vector3,Ce=new THREE.Quaternion;return function(){var we=ie.object.position;return Ie.copy(we).sub(ie.target),Ie.applyQuaternion(Oe),pe.setFromVector3(Ie),ie.autoRotate&&le===se.NONE&&A(T()),pe.theta+=ue.theta,pe.phi+=ue.phi,pe.theta=Math.max(ie.minAzimuthAngle,Math.min(ie.maxAzimuthAngle,pe.theta)),pe.phi=Math.max(ie.minPolarAngle,Math.min(ie.maxPolarAngle,pe.phi)),pe.makeSafe(),pe.radius*=ce,pe.radius=Math.max(ie.minDistance,Math.min(ie.maxDistance,pe.radius)),ie.target.add(me),Ie.setFromSpherical(pe),Ie.applyQuaternion(Ne),we.copy(ie.target).add(Ie),ie.object.lookAt(ie.target),!0===ie.enableDamping?(ue.theta*=1-ie.dampingFactor,ue.phi*=1-ie.dampingFactor,me.multiplyScalar(1-ie.dampingFactor)):(ue.set(0,0,0),me.set(0,0,0)),ce=1,(fe||Le.distanceToSquared(ie.object.position)>de||8*(1-Ce.dot(ie.object.quaternion))>de)&&(ie.dispatchEvent(ae),Le.copy(ie.object.position),Ce.copy(ie.object.quaternion),fe=!1,!0)}}(),this.dispose=function(){ie.domElement.removeEventListener('contextmenu',ne,!1),ie.domElement.removeEventListener('mousedown',Z,!1),ie.domElement.removeEventListener('wheel',J,!1),ie.domElement.removeEventListener('touchstart',$,!1),ie.domElement.removeEventListener('touchend',te,!1),ie.domElement.removeEventListener('touchmove',ee,!1),document.removeEventListener('mousemove',q,!1),document.removeEventListener('mouseup',K,!1),window.removeEventListener('keydown',Q,!1)};var ie=this,ae={type:'change'},re={type:'start'},oe={type:'end'},se={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},le=se.NONE,de=1e-6,pe=new THREE.Spherical,ue=new THREE.Spherical,ce=1,me=new THREE.Vector3,fe=!1,he=new THREE.Vector2,ge=new THREE.Vector2,ye=new THREE.Vector2,xe=new THREE.Vector2,ve=new THREE.Vector2,be=new THREE.Vector2,Ee=new THREE.Vector2,_e=new THREE.Vector2,Te=new THREE.Vector2,Se=function(){var Ie=new THREE.Vector3;return function(Ne,Le){Ie.setFromMatrixColumn(Le,0),Ie.multiplyScalar(-Ne),me.add(Ie)}}(),Ae=function(){var Ie=new THREE.Vector3;return function(Ne,Le){!0===ie.screenSpacePanning?Ie.setFromMatrixColumn(Le,1):(Ie.setFromMatrixColumn(Le,0),Ie.crossVectors(ie.object.up,Ie)),Ie.multiplyScalar(Ne),me.add(Ie)}}(),Pe=function(){var Ie=new THREE.Vector3;return function(Ne,Le){var Ce=ie.domElement===document?ie.domElement.body:ie.domElement;if(ie.object.isPerspectiveCamera){var Me=ie.object.position;Ie.copy(Me).sub(ie.target);var we=Ie.length();we*=Math.tan(ie.object.fov/2*Math.PI/180),Se(2*Ne*we/Ce.clientHeight,ie.object.matrix),Ae(2*Le*we/Ce.clientHeight,ie.object.matrix)}else ie.object.isOrthographicCamera?(Se(Ne*(ie.object.right-ie.object.left)/ie.object.zoom/Ce.clientWidth,ie.object.matrix),Ae(Le*(ie.object.top-ie.object.bottom)/ie.object.zoom/Ce.clientHeight,ie.object.matrix)):(console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.'),ie.enablePan=!1)}}();ie.domElement.addEventListener('contextmenu',ne,!1),ie.domElement.addEventListener('mousedown',Z,!1),ie.domElement.addEventListener('wheel',J,!1),ie.domElement.addEventListener('touchstart',$,!1),ie.domElement.addEventListener('touchend',te,!1),ie.domElement.addEventListener('touchmove',ee,!1),window.addEventListener('keydown',Q,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn('THREE.OrbitControls: .center has been renamed to .target'),this.target}},noZoom:{get:function(){return console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.'),!this.enableZoom},set:function(m){console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.'),this.enableZoom=!m}},noRotate:{get:function(){return console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.'),!this.enableRotate},set:function(m){console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.'),this.enableRotate=!m}},noPan:{get:function(){return console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.'),!this.enablePan},set:function(m){console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.'),this.enablePan=!m}},noKeys:{get:function(){return console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.'),!this.enableKeys},set:function(m){console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.'),this.enableKeys=!m}},staticMoving:{get:function(){return console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.'),!this.enableDamping},set:function(m){console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.'),this.enableDamping=!m}},dynamicDampingFactor:{get:function(){return console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.'),this.dampingFactor},set:function(m){console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.'),this.dampingFactor=m}}});(function(){'use strict';function m(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new O.BufferGeometry,this.widthCallback=null}function E(N,L,C,M,D){var F;if(N=N.subarray||N.slice?N:N.buffer,C=C.subarray||C.slice?C:C.buffer,N=L?N.subarray?N.subarray(L,D&&L+D):N.slice(L,D&&L+D):N,C.set)C.set(N,M);else for(F=0;F<N.length;F++)C[F+M]=N[F];return C}function T(N){function L(F,z){return void 0===F?z:F}O.Material.call(this),N=N||{},this.lineWidth=L(N.lineWidth,1),this.map=L(N.map,null),this.useMap=L(N.useMap,0),this.alphaMap=L(N.alphaMap,null),this.useAlphaMap=L(N.useAlphaMap,0),this.color=L(N.color,new O.Color(16777215)),this.opacity=L(N.opacity,1),this.resolution=L(N.resolution,new O.Vector2(1,1)),this.sizeAttenuation=L(N.sizeAttenuation,1),this.near=L(N.near,1),this.far=L(N.far,1),this.dashArray=L(N.dashArray,[]),this.useDash=[]===this.dashArray?0:1,this.visibility=L(N.visibility,1),this.alphaTest=L(N.alphaTest,0),this.repeat=L(N.repeat,new O.Vector2(1,1));var D=new O.RawShaderMaterial({uniforms:{lineWidth:{type:'f',value:this.lineWidth},map:{type:'t',value:this.map},useMap:{type:'f',value:this.useMap},alphaMap:{type:'t',value:this.alphaMap},useAlphaMap:{type:'f',value:this.useAlphaMap},color:{type:'c',value:this.color},opacity:{type:'f',value:this.opacity},resolution:{type:'v2',value:this.resolution},sizeAttenuation:{type:'f',value:this.sizeAttenuation},near:{type:'f',value:this.near},far:{type:'f',value:this.far},dashArray:{type:'v2',value:new O.Vector2(this.dashArray[0],this.dashArray[1])},useDash:{type:'f',value:this.useDash},visibility:{type:'f',value:this.visibility},alphaTest:{type:'f',value:this.alphaTest},repeat:{type:'v2',value:this.repeat}},vertexShader:['precision highp float;','','attribute vec3 position;','attribute vec3 previous;','attribute vec3 next;','attribute float side;','attribute float width;','attribute vec2 uv;','attribute float counters;','','uniform mat4 projectionMatrix;','uniform mat4 modelViewMatrix;','uniform vec2 resolution;','uniform float lineWidth;','uniform vec3 color;','uniform float opacity;','uniform float near;','uniform float far;','uniform float sizeAttenuation;','','varying vec2 vUV;','varying vec4 vColor;','varying float vCounters;','','vec2 fix( vec4 i, float aspect ) {','','    vec2 res = i.xy / i.w;','    res.x *= aspect;','\t vCounters = counters;','    return res;','','}','','void main() {','','    float aspect = resolution.x / resolution.y;','\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);','','    vColor = vec4( color, opacity );','    vUV = uv;','','    mat4 m = projectionMatrix * modelViewMatrix;','    vec4 finalPosition = m * vec4( position, 1.0 );','    vec4 prevPos = m * vec4( previous, 1.0 );','    vec4 nextPos = m * vec4( next, 1.0 );','','    vec2 currentP = fix( finalPosition, aspect );','    vec2 prevP = fix( prevPos, aspect );','    vec2 nextP = fix( nextPos, aspect );','','\t float pixelWidth = finalPosition.w * pixelWidthRatio;','    float w = 1.8 * pixelWidth * lineWidth * width;','','    if( sizeAttenuation == 1. ) {','        w = 1.8 * lineWidth * width;','    }','','    vec2 dir;','    if( nextP == currentP ) dir = normalize( currentP - prevP );','    else if( prevP == currentP ) dir = normalize( nextP - currentP );','    else {','        vec2 dir1 = normalize( currentP - prevP );','        vec2 dir2 = normalize( nextP - currentP );','        dir = normalize( dir1 + dir2 );','','        vec2 perp = vec2( -dir1.y, dir1.x );','        vec2 miter = vec2( -dir.y, dir.x );','        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );','','    }','','    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;','    vec2 normal = vec2( -dir.y, dir.x );','    normal.x /= aspect;','    normal *= .5 * w;','','    vec4 offset = vec4( normal * side, 0.0, 1.0 );','    finalPosition.xy += offset.xy;','','    gl_Position = finalPosition;','','}'].join('\r\n'),fragmentShader:['#extension GL_OES_standard_derivatives : enable','precision mediump float;','','uniform sampler2D map;','uniform sampler2D alphaMap;','uniform float useMap;','uniform float useAlphaMap;','uniform float useDash;','uniform vec2 dashArray;','uniform float visibility;','uniform float alphaTest;','uniform vec2 repeat;','','varying vec2 vUV;','varying vec4 vColor;','varying float vCounters;','','void main() {','','    vec4 c = vColor;','    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );','    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;','\t if( c.a < alphaTest ) discard;','\t if( useDash == 1. ){','\t \t ','\t }','    gl_FragColor = c;','\t gl_FragColor.a *= step(vCounters,visibility);','}'].join('\r\n')});return delete N.lineWidth,delete N.map,delete N.useMap,delete N.alphaMap,delete N.useAlphaMap,delete N.color,delete N.opacity,delete N.resolution,delete N.sizeAttenuation,delete N.near,delete N.far,delete N.dashArray,delete N.visibility,delete N.alphaTest,delete N.repeat,D.type='MeshLineMaterial',D.setValues(N),D}var S=this,A='undefined'!=typeof require,O=S.THREE||A&&require('three');if(!O)throw new Error('MeshLine requires three.js');m.prototype.setGeometry=function(N,L){if(this.widthCallback=L,this.positions=[],this.counters=[],N instanceof O.Geometry)for(var C=0;C<N.vertices.length;C++){var M=N.vertices[C],L=C/N.vertices.length;this.positions.push(M.x,M.y,M.z),this.positions.push(M.x,M.y,M.z),this.counters.push(L),this.counters.push(L)}if(N instanceof O.BufferGeometry,N instanceof Float32Array||N instanceof Array)for(var L,C=0;C<N.length;C+=3)L=C/N.length,this.positions.push(N[C],N[C+1],N[C+2]),this.positions.push(N[C],N[C+1],N[C+2]),this.counters.push(L),this.counters.push(L);this.process()},m.prototype.compareV3=function(N,L){var C=6*N,M=6*L;return this.positions[C]===this.positions[M]&&this.positions[C+1]===this.positions[M+1]&&this.positions[C+2]===this.positions[M+2]},m.prototype.copyV3=function(N){var L=6*N;return[this.positions[L],this.positions[L+1],this.positions[L+2]]},m.prototype.process=function(){var N=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var L=0;L<N;L++)this.side.push(1),this.side.push(-1);for(var C,L=0;L<N;L++)C=this.widthCallback?this.widthCallback(L/(N-1)):1,this.width.push(C),this.width.push(C);for(var L=0;L<N;L++)this.uvs.push(L/(N-1),0),this.uvs.push(L/(N-1),1);var M;M=this.compareV3(0,N-1)?this.copyV3(N-2):this.copyV3(0),this.previous.push(M[0],M[1],M[2]),this.previous.push(M[0],M[1],M[2]);for(var L=0;L<N-1;L++)M=this.copyV3(L),this.previous.push(M[0],M[1],M[2]),this.previous.push(M[0],M[1],M[2]);for(var L=1;L<N;L++)M=this.copyV3(L),this.next.push(M[0],M[1],M[2]),this.next.push(M[0],M[1],M[2]);M=this.compareV3(N-1,0)?this.copyV3(1):this.copyV3(N-1),this.next.push(M[0],M[1],M[2]),this.next.push(M[0],M[1],M[2]);for(var D,L=0;L<N-1;L++)D=2*L,this.indices_array.push(D,D+1,D+2),this.indices_array.push(D+2,D+1,D+3);this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new O.BufferAttribute(new Float32Array(this.positions),3),previous:new O.BufferAttribute(new Float32Array(this.previous),3),next:new O.BufferAttribute(new Float32Array(this.next),3),side:new O.BufferAttribute(new Float32Array(this.side),1),width:new O.BufferAttribute(new Float32Array(this.width),1),uv:new O.BufferAttribute(new Float32Array(this.uvs),2),index:new O.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new O.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute('position',this.attributes.position),this.geometry.addAttribute('previous',this.attributes.previous),this.geometry.addAttribute('next',this.attributes.next),this.geometry.addAttribute('side',this.attributes.side),this.geometry.addAttribute('width',this.attributes.width),this.geometry.addAttribute('uv',this.attributes.uv),this.geometry.addAttribute('counters',this.attributes.counters),this.geometry.setIndex(this.attributes.index)},m.prototype.advance=function(N){var L=this.attributes.position.array,C=this.attributes.previous.array,M=this.attributes.next.array,D=L.length;E(L,0,C,0,D),E(L,6,L,0,D-6),L[D-6]=N.x,L[D-5]=N.y,L[D-4]=N.z,L[D-3]=N.x,L[D-2]=N.y,L[D-1]=N.z,E(L,6,M,0,D-6),M[D-6]=N.x,M[D-5]=N.y,M[D-4]=N.z,M[D-3]=N.x,M[D-2]=N.y,M[D-1]=N.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0};T.prototype=Object.create(O.Material.prototype),T.prototype.constructor=T,T.prototype.copy=function(N){return O.Material.prototype.copy.call(this,N),this.lineWidth=N.lineWidth,this.map=N.map,this.useMap=N.useMap,this.alphaMap=N.alphaMap,this.useAlphaMap=N.useAlphaMap,this.color.copy(N.color),this.opacity=N.opacity,this.resolution.copy(N.resolution),this.sizeAttenuation=N.sizeAttenuation,this.near=N.near,this.far=N.far,this.dashArray.copy(N.dashArray),this.useDash=N.useDash,this.visibility=N.visibility,this.alphaTest=N.alphaTest,this.repeat.copy(N.repeat),this},'undefined'==typeof exports?(S.MeshLine=m,S.MeshLineMaterial=T):('undefined'!=typeof module&&module.exports&&(exports=module.exports={MeshLine:m,MeshLineMaterial:T}),exports.MeshLine=m,exports.MeshLineMaterial=T)}).call(this);!function(m,E){'object'==typeof exports&&'undefined'!=typeof module?E(require('three')):'function'==typeof define&&define.amd?define(['three'],E):E(m.THREE)}(this,function(m){'use strict';function E(){return document.createElement('canvas')}function T(S,A){if(S.length){var O=E().getContext('2d');return O.font=A,function(N,L){if(0<N.length)return L&&(N=N.map(L)),N.reduce(function(C,M){return Math.max(C,M)})}(S,function(N){return O.measureText(N).width})}return 0}(m=m&&m.hasOwnProperty('default')?m.default:m).TextTexture=function(S){function A(N){void 0===N&&(N={});var L=N.autoRedraw;void 0===L&&(L=!0);var C=N.text;void 0===C&&(C='');var M=N.fontStyle;void 0===M&&(M='normal');var D=N.fontVariant;void 0===D&&(D='normal');var F=N.fontWeight;void 0===F&&(F='normal');var z=N.fontSize;void 0===z&&(z=16);var R=N.fontFamily;void 0===R&&(R='sans-serif');var W=N.textAlign;void 0===W&&(W='center');var H=N.lineHeight;void 0===H&&(H=1.15);var V=N.padding;void 0===V&&(V=.25);var U=N.magFilter;void 0===U&&(U=m.LinearFilter);var G=N.minFilter;void 0===G&&(G=m.LinearFilter);var X=N.mapping,Y=N.wrapS,k=N.wrapT,Z=N.format,q=N.type,K=N.anisotropy;S.call(this,E(),X,Y,k,U,G,Z,q,K),this.autoRedraw=L,this._text=C,this._fontStyle=M,this._fontVariant=D,this._fontWeight=F,this._fontSize=z,this._fontFamily=R,this._textAlign=W,this._lineHeight=H,this._padding=V,this.redraw()}S&&(A.__proto__=S),A.prototype=Object.create(S&&S.prototype),A.prototype.constructor=A;var O={text:{configurable:!0},lines:{configurable:!0},linesCount:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},fontSize:{configurable:!0},fontFamily:{configurable:!0},font:{configurable:!0},textAlign:{configurable:!0},lineHeight:{configurable:!0},lineHeightInPixels:{configurable:!0},textBoxWidthInPixels:{configurable:!0},textBoxHeight:{configurable:!0},textBoxHeightInPixels:{configurable:!0},padding:{configurable:!0},paddingInPixels:{configurable:!0},paddingBoxWidthInPixels:{configurable:!0},paddingBoxHeight:{configurable:!0},paddingBoxHeightInPixels:{configurable:!0},aspect:{configurable:!0}};return A.prototype.redraw=function(){var N=this,L=this.image.getContext('2d');if(L.clearRect(0,0,L.canvas.width,L.canvas.height),this.textBoxWidthInPixels&&this.textBoxHeightInPixels){var C;switch(L.canvas.width=this.paddingBoxWidthInPixels,L.canvas.height=this.paddingBoxHeightInPixels,L.font=this.font,L.textBaseline='middle',L.fillStyle='white',this.textAlign){case'left':L.textAlign='left',C=this.paddingInPixels;break;case'right':L.textAlign='right',C=this.paddingInPixels+this.textBoxWidthInPixels;break;case'center':L.textAlign='center',C=this.paddingInPixels+this.textBoxWidthInPixels/2;}var M=this.paddingInPixels+this.fontSize/2;this.lines.forEach(function(D){L.fillText(D,C,M),M+=N.lineHeightInPixels})}else L.canvas.width=L.canvas.height=1;this.needsUpdate=!0},A.prototype._redrawIfAuto=function(){this.autoRedraw&&this.redraw()},O.text.get=function(){return this._text},O.text.set=function(N){this._text!==N&&(this._text=N,this._lines=void 0,this._textBoxWidthInPixels=void 0,this._redrawIfAuto())},O.lines.get=function(){var N;return void 0===this._lines&&(this._lines=(N=this.text)?N.split('\n'):[]),this._lines},O.linesCount.get=function(){return this.lines.length},O.fontStyle.get=function(){return this._fontStyle},O.fontStyle.set=function(N){this._fontStyle!==N&&(this._fontStyle=N,this._textBoxWidthInPixels=void 0,this._redrawIfAuto())},O.fontVariant.get=function(){return this._fontVariant},O.fontVariant.set=function(N){this._fontVariant!==N&&(this._fontVariant=N,this._textBoxWidthInPixels=void 0,this._redrawIfAuto())},O.fontWeight.get=function(){return this._fontWeight},O.fontWeight.set=function(N){this._fontWeight!==N&&(this._fontWeight=N,this._textBoxWidthInPixels=void 0,this._redrawIfAuto())},O.fontSize.get=function(){return this._fontSize},O.fontSize.set=function(N){this._fontSize!==N&&(this._fontSize=N,this._textBoxWidthInPixels=void 0,this._redrawIfAuto())},O.fontFamily.get=function(){return this._fontFamily},O.fontFamily.set=function(N){this._fontFamily!==N&&(this._fontFamily=N,this._textBoxWidthInPixels=void 0,this._redrawIfAuto())},O.font.get=function(){return N=this.fontStyle,L=this.fontVariant,C=this.fontWeight,M=this.fontSize,D=this.fontFamily,[N,L,C,M+'px',D].join(' ');var N,L,C,M,D},O.textAlign.get=function(){return this._textAlign},O.textAlign.set=function(N){this._textAlign!==N&&(this._textAlign=N,this._redrawIfAuto())},O.lineHeight.get=function(){return this._lineHeight},O.lineHeight.set=function(N){this._lineHeight!==N&&(this._lineHeight=N,this._redrawIfAuto())},O.lineHeightInPixels.get=function(){return this.fontSize*this.lineHeight},O.textBoxWidthInPixels.get=function(){return void 0===this._textBoxWidthInPixels&&(this._textBoxWidthInPixels=T(this.lines,this.font)),this._textBoxWidthInPixels},O.textBoxHeight.get=function(){return this.lineHeight*(this.linesCount-1)+1},O.textBoxHeightInPixels.get=function(){return this.fontSize*this.textBoxHeight},O.padding.get=function(){return this._padding},O.padding.set=function(N){this._padding!==N&&(this._padding=N,this._redrawIfAuto())},O.paddingInPixels.get=function(){return this.fontSize*this.padding},O.paddingBoxWidthInPixels.get=function(){return this.textBoxWidthInPixels+2*this.paddingInPixels},O.paddingBoxHeight.get=function(){return this.textBoxHeight+2*this.padding},O.paddingBoxHeightInPixels.get=function(){return this.textBoxHeightInPixels+2*this.paddingInPixels},O.aspect.get=function(){return this.image.width&&this.image.height?this.image.width/this.image.height:1},Object.defineProperties(A.prototype,O),A}(m.Texture)});!function(m,E){'object'==typeof exports&&'undefined'!=typeof module?E(require('three'),require('three.texttexture')):'function'==typeof define&&define.amd?define(['three','three.texttexture'],E):E(m.THREE)}(this,function(m){'use strict';(m=m&&m.hasOwnProperty('default')?m.default:m).TextSprite=function(E){function T(A){void 0===A&&(A={});var O=A.textSize;void 0===O&&(O=1);var N=A.redrawInterval;void 0===N&&(N=1);var L=A.maxFontSize;void 0===L&&(L=1/0);var C=A.material;void 0===C&&(C={});var M=A.texture;void 0===M&&(M={}),E.call(this,new m.SpriteMaterial(Object.assign({},C,{map:new m.TextTexture(M)}))),this.textSize=O,this.redrawInterval=N,this.maxFontSize=L,this.lastRedraw=0}E&&(T.__proto__=E),T.prototype=Object.create(E&&E.prototype),T.prototype.constructor=T;var S={isTextSprite:{configurable:!0}};return S.isTextSprite.get=function(){return!0},T.prototype.onBeforeRender=function(A,O,N){this.redraw(A,N)},T.prototype.updateScale=function(){this.scale.set(this.material.map.aspect,1,1).multiplyScalar(this.textSize*this.material.map.paddingBoxHeight)},T.prototype.updateMatrix=function(){for(var A=[],O=arguments.length;O--;)A[O]=arguments[O];return this.updateScale(),E.prototype.updateMatrix.apply(this,A)},T.prototype.computeOptimalFontSize=function(A,O){if(A.domElement.width&&A.domElement.height&&this.material.map.lines.length){var N=this.getWorldPosition().distanceTo(O.getWorldPosition());if(N){var L=this.getWorldScale().y*A.domElement.height/N;if(L)return Math.round(L/this.material.map.paddingBoxHeight)}}return 0},T.prototype.redraw=function(A,O){var N=this;this.lastRedraw+this.redrawInterval<Date.now()&&(this.redrawInterval?setTimeout(function(){N.redrawNow(A,O)},1):this.redrawNow(A,O))},T.prototype.redrawNow=function(A,O){this.updateScale();var N=this.computeOptimalFontSize(A,O);N=m.Math.ceilPowerOfTwo(N),N=Math.min(N,this.maxFontSize),this.material.map.fontSize=N,this.material.map.autoRedraw||this.material.map.redraw(),this.lastRedraw=Date.now()},T.prototype.dispose=function(){this.material.map.dispose(),this.material.dispose()},Object.defineProperties(T.prototype,S),T}(m.Sprite)});(function(m,E){'function'==typeof define&&define.amd?define([],E):'object'==typeof exports?module.exports=E():m.X2JS=E()})(this,function(){return function(m){'use strict';function S($){var ee=$.localName;return null==ee&&(ee=$.baseName),(null==ee||''==ee)&&(ee=$.nodeName),ee}function A($){return $.prefix}function O($){return'string'==typeof $?$.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&apos;'):$}function L($,ee,te,ne){for(var ae,ie=0;ie<$.length;ie++)if(ae=$[ie],'string'==typeof ae){if(ae==ne)break;}else if(ae instanceof RegExp){if(ae.test(ne))break;}else if('function'==typeof ae&&ae(ee,te,ne))break;return ie!=$.length}function C($,ee,te){switch(m.arrayAccessForm){case'property':$[ee+'_asArray']=$[ee]instanceof Array?$[ee]:[$[ee]];}!($[ee]instanceof Array)&&0<m.arrayAccessFormPaths.length&&L(m.arrayAccessFormPaths,$,ee,te)&&($[ee]=[$[ee]])}function M($){var ee=$.split(/[-T:+Z]/g),te=new Date(ee[0],ee[1]-1,ee[2]),ne=ee[5].split('.');if(te.setHours(ee[3],ee[4],ne[0]),1<ne.length&&te.setMilliseconds(ne[1]),ee[6]&&ee[7]){var ie=60*ee[6]+ +ee[7],ae=/\d\d-\d\d:\d\d$/.test($)?'-':'+';ie=0+('-'==ae?-1*ie:ie),te.setMinutes(te.getMinutes()-ie-te.getTimezoneOffset())}else-1!==$.indexOf('Z',$.length-1)&&(te=new Date(Date.UTC(te.getFullYear(),te.getMonth(),te.getDate(),te.getHours(),te.getMinutes(),te.getSeconds(),te.getMilliseconds())));return te}function D($,ee,te){if(0<m.datetimeAccessFormPaths.length){var ne=te.split('.#')[0];return L(m.datetimeAccessFormPaths,$,ee,ne)?M($):$}return $}function F($,ee,te,ne){return ee==Q.ELEMENT_NODE&&0<m.xmlElementsFilter.length?L(m.xmlElementsFilter,$,te,ne):!0}function z($,ee){if($.nodeType==Q.DOCUMENT_NODE){for(var ae,te={},ne=$.childNodes,ie=0;ie<ne.length;ie++)if(ae=ne.item(ie),ae.nodeType==Q.ELEMENT_NODE){var re=S(ae);te[re]=z(ae,re)}return te}if($.nodeType==Q.ELEMENT_NODE){for(var te={__cnt:0},ne=$.childNodes,ie=0;ie<ne.length;ie++){var ae=ne.item(ie),re=S(ae);if(ae.nodeType!=Q.COMMENT_NODE){var oe=ee+'.'+re;F(te,ae.nodeType,re,oe)&&(te.__cnt++,null==te[re]?(te[re]=z(ae,oe),C(te,re,oe)):(null!=te[re]&&!(te[re]instanceof Array)&&(te[re]=[te[re]],C(te,re,oe)),te[re][te[re].length]=z(ae,oe)))}}for(var le,se=0;se<$.attributes.length;se++)le=$.attributes.item(se),te.__cnt++,te[m.attributePrefix+le.name]=le.value;var de=A($);return null!=de&&''!=de&&(te.__cnt++,te.__prefix=de),null!=te['#text']&&(te.__text=te['#text'],te.__text instanceof Array&&(te.__text=te.__text.join('\n')),m.stripWhitespaces&&(te.__text=te.__text.trim()),delete te['#text'],'property'==m.arrayAccessForm&&delete te['#text_asArray'],te.__text=D(te.__text,re,ee+'.'+re)),null!=te['#cdata-section']&&(te.__cdata=te['#cdata-section'],delete te['#cdata-section'],'property'==m.arrayAccessForm&&delete te['#cdata-section_asArray']),0==te.__cnt&&'text'==m.emptyNodeForm?te='':1==te.__cnt&&null!=te.__text?te=te.__text:1!=te.__cnt||null==te.__cdata||m.keepCData?1<te.__cnt&&null!=te.__text&&m.skipEmptyTextNodesForObj&&(m.stripWhitespaces&&''==te.__text||''==te.__text.trim())&&delete te.__text:te=te.__cdata,delete te.__cnt,m.enableToStringFunc&&(null!=te.__text||null!=te.__cdata)&&(te.toString=function(){return(null==this.__text?'':this.__text)+(null==this.__cdata?'':this.__cdata)}),te}return $.nodeType==Q.TEXT_NODE||$.nodeType==Q.CDATA_SECTION_NODE?$.nodeValue:void 0}function R($,ee,te,ne){var ie='<'+(null!=$&&null!=$.__prefix?$.__prefix+':':'')+ee;if(null!=te)for(var ae=0;ae<te.length;ae++){var re=te[ae],oe=$[re];m.escapeMode&&(oe=O(oe)),ie+=' '+re.substr(m.attributePrefix.length)+'=',ie+=m.useDoubleQuotes?'"'+oe+'"':'\''+oe+'\''}return ie+=ne?'/>':'>',ie}function W($,ee){return'</'+(null==$.__prefix?'':$.__prefix+':')+ee+'>'}function H($,ee){return-1!==$.indexOf(ee,$.length-ee.length)}function V($,ee){return'property'==m.arrayAccessForm&&H(ee.toString(),'_asArray')||0==ee.toString().indexOf(m.attributePrefix)||0==ee.toString().indexOf('__')||$[ee]instanceof Function}function U($){var ee=0;if($ instanceof Object)for(var te in $)V($,te)||ee++;return ee}function G($,ee,te){return 0==m.jsonPropertiesFilter.length||''==te||L(m.jsonPropertiesFilter,$,ee,te)}function X($){var ee=[];if($ instanceof Object)for(var te in $)-1==te.toString().indexOf('__')&&0==te.toString().indexOf(m.attributePrefix)&&ee.push(te);return ee}function Y($){var ee='';return null!=$.__cdata&&(ee+='<![CDATA['+$.__cdata+']]>'),null!=$.__text&&(m.escapeMode?ee+=O($.__text):ee+=$.__text),ee}function k($){var ee='';return $ instanceof Object?ee+=Y($):null!=$&&(m.escapeMode?ee+=O($):ee+=$),ee}function Z($,ee){return''===$?ee:$+'.'+ee}function q($,ee,te,ne){var ie='';if(0==$.length)ie+=R($,ee,te,!0);else for(var ae=0;ae<$.length;ae++)ie+=R($[ae],ee,X($[ae]),!1),ie+=K($[ae],Z(ne,ee)),ie+=W($[ae],ee);return ie}function K($,ee){var te='',ne=U($);if(0<ne)for(var ie in $)if(!V($,ie)&&(''==ee||G($,ie,Z(ee,ie)))){var ae=$[ie],re=X(ae);if(null==ae||void 0==ae)te+=R(ae,ie,re,!0);else if(!(ae instanceof Object))te+=R(ae,ie,re,!1),te+=k(ae),te+=W(ae,ie);else if(ae instanceof Array)te+=q(ae,ie,re,ee);else if(ae instanceof Date)te+=R(ae,ie,re,!1),te+=ae.toISOString(),te+=W(ae,ie);else{var oe=U(ae);0<oe||null!=ae.__text||null!=ae.__cdata?(te+=R(ae,ie,re,!1),te+=K(ae,Z(ee,ie)),te+=W(ae,ie)):te+=R(ae,ie,re,!0)}}return te+=k($),te}m=m||{},function(){m.escapeMode===void 0&&(m.escapeMode=!0),m.attributePrefix=m.attributePrefix||'_',m.arrayAccessForm=m.arrayAccessForm||'none',m.emptyNodeForm=m.emptyNodeForm||'text',m.enableToStringFunc===void 0&&(m.enableToStringFunc=!0),m.arrayAccessFormPaths=m.arrayAccessFormPaths||[],m.skipEmptyTextNodesForObj===void 0&&(m.skipEmptyTextNodesForObj=!0),m.stripWhitespaces===void 0&&(m.stripWhitespaces=!0),m.datetimeAccessFormPaths=m.datetimeAccessFormPaths||[],m.useDoubleQuotes===void 0&&(m.useDoubleQuotes=!1),m.xmlElementsFilter=m.xmlElementsFilter||[],m.jsonPropertiesFilter=m.jsonPropertiesFilter||[],m.keepCData===void 0&&(m.keepCData=!1)}(),function(){}();var Q={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function($){var ee=window.ActiveXObject||'ActiveXObject'in window;if($===void 0)return null;var te;if(window.DOMParser){var ne=new window.DOMParser,ie=null;if(!ee)try{ie=ne.parseFromString('INVALID','text/xml').getElementsByTagName('parsererror')[0].namespaceURI}catch(ae){ie=null}try{te=ne.parseFromString($,'text/xml'),null!=ie&&0<te.getElementsByTagNameNS(ie,'parsererror').length&&(te=null)}catch(ae){te=null}}else 0==$.indexOf('<?')&&($=$.substr($.indexOf('?>')+2)),te=new ActiveXObject('Microsoft.XMLDOM'),te.async='false',te.loadXML($);return te},this.asArray=function($){return void 0===$||null==$?[]:$ instanceof Array?$:[$]},this.toXmlDateTime=function($){return $ instanceof Date?$.toISOString():'number'==typeof $?new Date($).toISOString():null},this.asDateTime=function($){return'string'==typeof $?M($):$},this.xml2json=function($){return z($)},this.xml_str2json=function($){var ee=this.parseXmlString($);return null==ee?null:this.xml2json(ee)},this.json2xml_str=function($){return K($,'')},this.json2xml=function($){var ee=this.json2xml_str($);return this.parseXmlString(ee)},this.getVersion=function(){return'1.2.0'}}}),THREE.LineSegmentsGeometry=function(){THREE.InstancedBufferGeometry.call(this),this.type='LineSegmentsGeometry';var m=new THREE.BufferGeometry;this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.addAttribute('position',new THREE.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.addAttribute('uv',new THREE.Float32BufferAttribute([0,1,1,1,0,0.5,1,0.5,0,0.5,1,0.5,0,0,1,0],2))},THREE.LineSegmentsGeometry.prototype=Object.assign(Object.create(THREE.InstancedBufferGeometry.prototype),{constructor:THREE.LineSegmentsGeometry,isLineSegmentsGeometry:!0,applyMatrix:function(m){var E=this.attributes.instanceStart,T=this.attributes.instanceEnd;return void 0!==E&&(m.applyToBufferAttribute(E),m.applyToBufferAttribute(T),E.data.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(m){var E;m instanceof Float32Array?E=m:Array.isArray(m)&&(E=new Float32Array(m));var T=new THREE.InstancedInterleavedBuffer(E,6,1);return this.addAttribute('instanceStart',new THREE.InterleavedBufferAttribute(T,3,0)),this.addAttribute('instanceEnd',new THREE.InterleavedBufferAttribute(T,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(m){var E;m instanceof Float32Array?E=m:Array.isArray(m)&&(E=new Float32Array(m));var T=new THREE.InstancedInterleavedBuffer(E,6,1);return this.addAttribute('instanceColorStart',new THREE.InterleavedBufferAttribute(T,3,0)),this.addAttribute('instanceColorEnd',new THREE.InterleavedBufferAttribute(T,3,3)),this},fromWireframeGeometry:function(m){return this.setPositions(m.attributes.position.array),this},fromEdgesGeometry:function(m){return this.setPositions(m.attributes.position.array),this},fromMesh:function(m){return this.fromWireframeGeometry(new THREE.WireframeGeometry(m.geometry)),this},fromLineSegements:function(m){var E=m.geometry;return E.isGeometry?this.setPositions(E.vertices):E.isBufferGeometry&&this.setPositions(E.position.array),this},computeBoundingBox:function(){var m=new THREE.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var T=this.attributes.instanceStart,S=this.attributes.instanceEnd;T!==void 0&&S!==void 0&&(this.boundingBox.setFromBufferAttribute(T),m.setFromBufferAttribute(S),this.boundingBox.union(m))}}(),computeBoundingSphere:function(){var m=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),null===this.boundingBox&&this.computeBoundingBox();var T=this.attributes.instanceStart,S=this.attributes.instanceEnd;if(T!==void 0&&S!==void 0){var A=this.boundingSphere.center;this.boundingBox.getCenter(A);for(var O=0,N=0,L=T.count;N<L;N++)m.fromBufferAttribute(T,N),O=Math.max(O,A.distanceToSquared(m)),m.fromBufferAttribute(S,N),O=Math.max(O,A.distanceToSquared(m));this.boundingSphere.radius=Math.sqrt(O),isNaN(this.boundingSphere.radius)&&console.error('THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.',this)}}}(),toJSON:function(){},clone:function(){},copy:function(){return this}});THREE.LineGeometry=function(){THREE.LineSegmentsGeometry.call(this),this.type='LineGeometry'},THREE.LineGeometry.prototype=Object.assign(Object.create(THREE.LineSegmentsGeometry.prototype),{constructor:THREE.LineGeometry,isLineGeometry:!0,setPositions:function(m){for(var E=m.length-3,T=new Float32Array(2*E),S=0;S<E;S+=3)T[2*S]=m[S],T[2*S+1]=m[S+1],T[2*S+2]=m[S+2],T[2*S+3]=m[S+3],T[2*S+4]=m[S+4],T[2*S+5]=m[S+5];return THREE.LineSegmentsGeometry.prototype.setPositions.call(this,T),this},setColors:function(m){for(var E=m.length-3,T=new Float32Array(2*E),S=0;S<E;S+=3)T[2*S]=m[S],T[2*S+1]=m[S+1],T[2*S+2]=m[S+2],T[2*S+3]=m[S+3],T[2*S+4]=m[S+4],T[2*S+5]=m[S+5];return THREE.LineSegmentsGeometry.prototype.setColors.call(this,T),this},fromLine:function(m){var E=m.geometry;return E.isGeometry?this.setPositions(E.vertices):E.isBufferGeometry&&this.setPositions(E.position.array),this},copy:function(){return this}});THREE.WireframeGeometry2=function(m){THREE.LineSegmentsGeometry.call(this),this.type='WireframeGeometry2',this.fromWireframeGeometry(new THREE.WireframeGeometry(m))},THREE.WireframeGeometry2.prototype=Object.assign(Object.create(THREE.LineSegmentsGeometry.prototype),{constructor:THREE.WireframeGeometry2,isWireframeGeometry2:!0,copy:function(){return this}});THREE.UniformsLib.line={linewidth:{value:1},resolution:{value:new THREE.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},THREE.ShaderLib.line={uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		varying vec2 vUv;

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;

			#endif

			float aspect = resolution.x / resolution.y;

			vUv = uv;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec2 ndcStart = clipStart.xy / clipStart.w;
			vec2 ndcEnd = clipEnd.xy / clipEnd.w;

			// direction
			vec2 dir = ndcEnd - ndcStart;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			// perpendicular to dir
			vec2 offset = vec2( dir.y, - dir.x );

			// undo aspect ratio adjustment
			dir.x /= aspect;
			offset.x /= aspect;

			// sign flip
			if ( position.x < 0.0 ) offset *= - 1.0;

			// endcaps
			if ( position.y < 0.0 ) {

				offset += - dir;

			} else if ( position.y > 1.0 ) {

				offset += dir;

			}

			// adjust for linewidth
			offset *= linewidth;

			// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
			offset /= resolution.y;

			// select end
			vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

			// back to clip space
			offset *= clip.w;

			clip.xy += offset;

			gl_Position = clip;

			#include <logdepthbuf_vertex>

			#include <worldpos_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;

		#ifdef USE_DASH

			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		varying vec2 vUv;

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < 0.5 || vUv.y > 0.5 ) discard; // discard endcaps

				if ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			if ( vUv.y < 0.5 || vUv.y > 0.5 ) {

				float a = vUv.x - 0.5;
				float b = vUv.y - 0.5;
				float len2 = a * a + b * b;

				if ( len2 > 0.25 ) discard;

			}

			vec4 diffuseColor = vec4( diffuse, opacity );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );

			#include <premultiplied_alpha_fragment>
			#include <tonemapping_fragment>
			#include <encodings_fragment>
			#include <fog_fragment>

		}
		`},THREE.LineMaterial=function(m){THREE.ShaderMaterial.call(this,{type:'LineMaterial',uniforms:THREE.UniformsUtils.clone(THREE.ShaderLib.line.uniforms),vertexShader:THREE.ShaderLib.line.vertexShader,fragmentShader:THREE.ShaderLib.line.fragmentShader}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(E){this.uniforms.diffuse.value=E}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(E){this.uniforms.linewidth.value=E}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(E){this.uniforms.dashScale.value=E}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(E){this.uniforms.dashSize.value=E}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(E){this.uniforms.gapSize.value=E}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(E){this.uniforms.resolution.value.copy(E)}}}),this.setValues(m)},THREE.LineMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.LineMaterial.prototype.constructor=THREE.LineMaterial,THREE.LineMaterial.prototype.isLineMaterial=!0,THREE.LineMaterial.prototype.copy=function(m){return THREE.ShaderMaterial.prototype.copy.call(this,m),this.color.copy(m.color),this.linewidth=m.linewidth,this.resolution=m.resolution,this};THREE.LineSegments2=function(m,E){THREE.Mesh.call(this),this.type='LineSegments2',this.geometry=m===void 0?new THREE.LineSegmentsGeometry:m,this.material=E===void 0?new THREE.LineMaterial({color:16777215*Math.random()}):E},THREE.LineSegments2.prototype=Object.assign(Object.create(THREE.Mesh.prototype),{constructor:THREE.LineSegments2,isLineSegments2:!0,computeLineDistances:function(){var m=new THREE.Vector3,E=new THREE.Vector3;return function(){for(var S=this.geometry,A=S.attributes.instanceStart,O=S.attributes.instanceEnd,N=new Float32Array(2*A.data.count),L=0,C=0,M=A.data.count;L<M;L++,C+=2)m.fromBufferAttribute(A,L),E.fromBufferAttribute(O,L),N[C]=0==C?0:N[C-1],N[C+1]=N[C]+m.distanceTo(E);var D=new THREE.InstancedInterleavedBuffer(N,2,1);return S.addAttribute('instanceDistanceStart',new THREE.InterleavedBufferAttribute(D,1,0)),S.addAttribute('instanceDistanceEnd',new THREE.InterleavedBufferAttribute(D,1,1)),this}}(),copy:function(){return this}});THREE.Line2=function(m,E){THREE.LineSegments2.call(this),this.type='Line2',this.geometry=m===void 0?new THREE.LineGeometry:m,this.material=E===void 0?new THREE.LineMaterial({color:16777215*Math.random()}):E},THREE.Line2.prototype=Object.assign(Object.create(THREE.LineSegments2.prototype),{constructor:THREE.Line2,isLine2:!0,copy:function(){return this}});THREE.Wireframe=function(m,E){THREE.Mesh.call(this),this.type='Wireframe',this.geometry=m===void 0?new THREE.LineSegmentsGeometry:m,this.material=E===void 0?new THREE.LineMaterial({color:16777215*Math.random()}):E},THREE.Wireframe.prototype=Object.assign(Object.create(THREE.Mesh.prototype),{constructor:THREE.Wireframe,isWireframe:!0,computeLineDistances:function(){var m=new THREE.Vector3,E=new THREE.Vector3;return function(){for(var S=this.geometry,A=S.attributes.instanceStart,O=S.attributes.instanceEnd,N=new Float32Array(2*A.data.count),L=0,C=0,M=A.data.count;L<M;L++,C+=2)m.fromBufferAttribute(A,L),E.fromBufferAttribute(O,L),N[C]=0==C?0:N[C-1],N[C+1]=N[C]+m.distanceTo(E);var D=new THREE.InstancedInterleavedBuffer(N,2,1);return S.addAttribute('instanceDistanceStart',new THREE.InterleavedBufferAttribute(D,1,0)),S.addAttribute('instanceDistanceEnd',new THREE.InterleavedBufferAttribute(D,1,1)),this}}(),copy:function(){return this}});